<script>
  const overlay = document.getElementById("overlay");
  const music = document.getElementById("bg-music");
  const petalLayer = document.getElementById("petal-layer");
  const message = document.getElementById("message");

  let started = false;

  function startExperience() {
    if (started) return;
    started = true;

    // ✅ AUDIO — FIRST, IMMEDIATE, SAME TAP
    music.volume = 0.6;
    music.play().catch(() => {});

    // then visuals
    overlay.remove();

    document.querySelectorAll(".petal").forEach((p, i) => {
      setTimeout(() => p.classList.add("fly"), i * 25);
    });

    setTimeout(() => {
      petalLayer.remove();
      message.style.opacity = 1;
    }, 1800);
  }

  // ✅ ONE listener is enough
  overlay.addEventListener("click", startExperience);
  overlay.addEventListener("touchstart", startExperience, { passive: true });
</script>
